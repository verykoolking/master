<?xml version="1.0" encoding="UTF-8" ?>
<script name="cm_spoc.rule_BOMPDefaultPriorityCondRule">
  <group>rules_scripts.Configuration</group>
  <label>rule_BOMPDefaultPriorityCondRule</label>
  <metaVersion>4</metaVersion>
  <parameterList>
    <parameter name="data" type="rifp">
      <type>nmeta_com.conceptwave.system.Object</type>
    </parameter>
    <parameter name="errList" type="rifp">
      <type>nmeta_com.conceptwave.system.Object</type>
    </parameter>
  </parameterList>
  <script><![CDATA[
    /*
    Conditional
    BOMPDefaultPriorityCondRule
    The attribute must be saved in the catalog only if the related attribute assumes one of  the values shown in column H.
    If the related attribute is different from one of such values and the main attribute is set, an error is to be arisen.

    BoltOnModalityPriority
    DefaultPriority

    TariffPlan
    TariffPlanIdentifier

    Not empty
    */

    var entity1 = data.BoltOnModalityPriority;
    var entity2 = data.TariffPlan      ;

    if(entity1.DefaultPriority && entity2.TariffPlanIdentifier=="") {
        errList.addErrorMessage(data,["BoltOnModalityPriority can be saved only if TariffPlan       is not empty"],"NGAA_003","E");

    }
        return false;
  ]]></script>
</script>