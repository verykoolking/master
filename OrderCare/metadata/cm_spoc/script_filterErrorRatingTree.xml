<?xml version="1.0" encoding="UTF-8" ?>
<script name="cm_spoc.filterErrorRatingTree">
  <group>ui_scripts.RatingTree</group>
  <label>filterErrorRatingTree</label>
  <metaVersion>4</metaVersion>
  <parameterList>
    <parameter name="model" type="rifp"/>
    <parameter name="err" type="rifp">
      <type>nmeta_com.conceptwave.system.Object</type>
    </parameter>
  </parameterList>
  <script><![CDATA[
    var nodes = model.getNodeNames();

    var newErr = [];

    for (var i=0;i<nodes.length;i++) {

        for (var k=0;k<err.length;k++) {

            if(err[k].indexOf(nodes[i]) > 0 ) {

                newErr.push(err[k-1]);
                newErr.push(err[k]);
            }


        }

    }

    return newErr;
  ]]></script>
</script>