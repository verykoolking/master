<?xml version="1.0" encoding="UTF-8" ?>
<script name="cm_spoc.initBalanceTransferSettingUI">
  <group>ui_scripts.TariffPlan</group>
  <label>initBalanceTransferSettingUI</label>
  <metaVersion>4</metaVersion>
  <parameterList>
    <parameter name="ui" type="rifp">
      <type>nmeta_com.conceptwave.system.Object</type>
    </parameter>
  </parameterList>
  <script><![CDATA[
    //iterator init
    ui.BalanceTransferIterator = new Array();

    var balanceTransferDS=ui.model.BTSTariffPlanModalityArrDS.ListDS;
    if(ui.model.specificationCode){
        ui.model.TopUpOriginEnum = ui.model.DefaultTopUpOriginFor;

        cm_spoc.loadListElements(ui, balanceTransferDS, "cm_spoc.forms.BalanceTransferSettingIteratorUIForm", "BalanceTransferIterator");
        for (var i=0; i<balanceTransferDS.length; i++){
            balanceTransferDS[i].WalletList=cm_spoc.concatList(balanceTransferDS[i].TPMWalletArrDS.List, ",");
        }
    }
  ]]></script>
</script>