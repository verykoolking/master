<?xml version="1.0" encoding="UTF-8" ?>
<document name="cw_etltool._import.importProcessDoc">
  <extends>doc_com.conceptwave.system.Document</extends>
  <guid>{2adddecc-56bd-4d50-94e5-31b5b69422c4}</guid>
  <label>Import Process Document</label>
  <metaVersion>4</metaVersion>
  <variableList>
    <variable name="ProcessID" type="leaf">
      <key>1</key>
      <valueType>dtype_cwf_pm.PROCESS_ID</valueType>
    </variable>
    <variable name="sessionId" type="leaf">
      <valueType>dtype_cwf.sysGuid</valueType>
    </variable>
    <variable name="FilesCount" type="leaf">
      <valueType>dtype_com.conceptwave.system.Integer</valueType>
    </variable>
    <variable name="EntitiesCount" type="leaf">
      <valueType>dtype_com.conceptwave.system.Integer</valueType>
    </variable>
    <variable name="ProcessedFilesCount" type="leaf">
      <valueType>dtype_com.conceptwave.system.Integer</valueType>
    </variable>
    <variable name="ProcessedEntitiesCount" type="leaf">
      <valueType>dtype_com.conceptwave.system.Integer</valueType>
    </variable>
    <variable name="CurrentFileID" type="leaf">
      <valueType>dtype_cwt_pcdd.string16</valueType>
    </variable>
    <variable name="CurrentEntityID" type="leaf">
      <valueType>dtype_cwt_pcdd.string16</valueType>
    </variable>
    <variable name="actionCommonInfoXML" type="leaf">
      <valueType>dtype_com.conceptwave.system.String</valueType>
    </variable>
    <variable name="importCommonInfoXML" type="leaf">
      <valueType>dtype_com.conceptwave.system.String</valueType>
    </variable>
    <variable name="IsError" type="leaf">
      <valueType>dtype_com.conceptwave.system.Boolean</valueType>
    </variable>
  </variableList>
  <methodList>
    <method name="cwLeafInitAction$ProcessedEntitiesCount" type="laction">
      <path>doc_cw_etltool._import.importProcessDoc/leaf_ProcessedEntitiesCount</path>
      <type>initializer</type>
      <valueType>doc_cw_etltool._import.importProcessDoc/leaf_ProcessedEntitiesCount</valueType>
      <script>return 0;</script>
    </method>
    <method name="cwLeafInitAction$actionCommonInfoXML" type="laction">
      <path>doc_cw_etltool._import.importProcessDoc/leaf_actionCommonInfoXML</path>
      <type>initializer</type>
      <script>return null;</script>
    </method>
    <method name="cwLeafInitAction$CurrentEntityID" type="laction">
      <path>doc_cw_etltool._import.importProcessDoc/leaf_CurrentEntityID</path>
      <type>initializer</type>
      <script>return null;</script>
    </method>
    <method name="cwLeafInitAction$CurrentFileID" type="laction">
      <path>doc_cw_etltool._import.importProcessDoc/leaf_CurrentFileID</path>
      <type>initializer</type>
      <valueType>doc_cw_etltool._import.importProcessDoc/leaf_CurrentFileID</valueType>
      <script>return null;</script>
    </method>
    <method name="cwLeafInitAction$EntitiesCount" type="laction">
      <path>doc_cw_etltool._import.importProcessDoc/leaf_EntitiesCount</path>
      <type>initializer</type>
      <valueType>doc_cw_etltool._import.importProcessDoc/leaf_EntitiesCount</valueType>
      <script>return 0;</script>
    </method>
    <method name="cwLeafInitAction$ProcessedFilesCount" type="laction">
      <path>doc_cw_etltool._import.importProcessDoc/leaf_ProcessedFilesCount</path>
      <type>initializer</type>
      <valueType>doc_cw_etltool._import.importProcessDoc/leaf_ProcessedFilesCount</valueType>
      <script>return 0;</script>
    </method>
    <method name="cwLeafInitAction$IsError" type="laction">
      <path>doc_cw_etltool._import.importProcessDoc/leaf_IsError</path>
      <type>initializer</type>
      <valueType>doc_cw_etltool._import.importProcessDoc/leaf_IsError</valueType>
      <script>return false;</script>
    </method>
    <method name="incrementProcessedFilesCount" type="uimthd">
      <script>this.ProcessedFilesCount = this.ProcessedFilesCount + 1;</script>
    </method>
    <method name="incrementProcessedEntitiesCount" type="uimthd">
      <script>this.ProcessedEntitiesCount = this.ProcessedEntitiesCount + 1;</script>
    </method>
    <method name="setFilesCount" type="uimthd">
      <parameterList>
        <parameter name="value" type="rifp">
          <mandatory>true</mandatory>
          <type>dtype_com.conceptwave.system.Integer</type>
        </parameter>
      </parameterList>
      <script>this.FilesCount = value ;</script>
    </method>
    <method name="setEntitiesCount" type="uimthd">
      <parameterList>
        <parameter name="value" type="rifp">
          <mandatory>true</mandatory>
          <type>dtype_com.conceptwave.system.Integer</type>
        </parameter>
      </parameterList>
      <script>this.EntitiesCount = value;</script>
    </method>
    <method name="isThereFileToProcess" type="uimthd">
      <script><![CDATA[return ( this.FilesCount > this.ProcessedFilesCount );]]></script>
    </method>
    <method name="isThereEntityToProcess" type="uimthd">
      <script><![CDATA[return ( this.EntitiesCount > this.ProcessedEntitiesCount );]]></script>
    </method>
    <method name="resetProcessedFilesCount" type="uimthd">
      <script>this.ProcessedFilesCount = 0;</script>
    </method>
    <method name="resetProcessedEntitiesCount" type="uimthd">
      <script>this.ProcessedEntitiesCount = 0;</script>
    </method>
    <method name="resetCurrentFileID" type="uimthd">
      <script>this.CurrentFileID = null;</script>
    </method>
    <method name="resetCurrentEntityID" type="uimthd">
      <script>this.CurrentEntityID = null;</script>
    </method>
    <method name="getActionCommonInfo" type="uimthd">
      <script><![CDATA[
        if(!cw_etltool.common.isNullOrEmptyString(this.actionCommonInfoXML))
         return (Global.getItemsFromXML(this.actionCommonInfoXML, "OCSOperation.v1.types.ActionCommonInfoType"))[0];
        else
         return new DataStructure("OCSOperation.v1.types.ActionCommonInfoType");
      ]]></script>
    </method>
    <method name="getImportCommonInfo" type="uimthd">
      <script><![CDATA[
        if(!cw_etltool.common.isNullOrEmptyString(this.importCommonInfoXML))
            return (Global.getItemsFromXML(this.importCommonInfoXML, "cw_etltool._import.impCommonInfo"))[0];
        else
        {
            return new DataStructure("cw_etltool._import.impCommonInfo")
        }
      ]]></script>
    </method>
    <method name="setImportCommonInfo" type="uimthd">
      <parameterList>
        <parameter name="importCommonInfo" type="rifp">
          <type>dstruct_cw_etltool._import.impCommonInfo</type>
        </parameter>
      </parameterList>
      <script>this.importCommonInfoXML = importCommonInfo.toXML();</script>
    </method>
    <method name="setActionCommonInfo" type="uimthd">
      <parameterList>
        <parameter name="actionCommonInfo" type="rifp">
          <mandatory>true</mandatory>
          <type>nmeta_com.conceptwave.system.Object</type>
        </parameter>
      </parameterList>
      <script>this.actionCommonInfoXML = actionCommonInfo.toXML();</script>
    </method>
    <method name="getSessionId" type="uimthd">
      <script>return this.sessionId;</script>
    </method>
    <method name="isSessionIdExist" type="uimthd">
      <script>return (!cw_etltool.common.isNullOrEmptyString(this.sessionId));</script>
    </method>
    <method name="setSessionId" type="uimthd">
      <parameterList>
        <parameter name="sessionId" type="rifp">
          <mandatory>true</mandatory>
          <type>dtype_com.conceptwave.system.String</type>
        </parameter>
      </parameterList>
      <script>this.sessionId = sessionId;</script>
    </method>
  </methodList>
  <UserInterface name="UserInterface" type="ui">
    <extends>doc_com.conceptwave.system.Document/ui_UserInterface</extends>
    <variableList>
      <variable name="model" type="uivar">
        <label>model</label>
        <valueType>doc_cw_etltool._import.importProcessDoc</valueType>
      </variable>
      <variable name="fileDocFinderUI" type="leaf">
        <valueType>findDoc_cw_etltool._import.fileDocFinder/ui_UserInterface</valueType>
      </variable>
      <variable name="entityDocFinderUI" type="leaf">
        <valueType>findDoc_cw_etltool._import.entityDocFinder/ui_UserInterface</valueType>
      </variable>
    </variableList>
    <vformList>
      <vform name="Forms" type="frmui">
        <extends>doc_com.conceptwave.system.Document/ui_UserInterface/frmui_Forms</extends>
      </vform>
    </vformList>
  </UserInterface>
</document>